{"ast":null,"code":"var _jsxFileName = \"D:\\\\TaskManagerPro\\\\frontend\\\\src\\\\components\\\\KanbanBoard.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useContext, useCallback } from 'react';\nimport API from '../api';\nimport { AuthContext } from '../context/AuthContext';\nimport TaskCard from './TaskCard';\nimport TaskForm from './TaskForm';\nimport { DragDropContext, Droppable, Draggable } from '@hello-pangea/dnd';\nimport { Container, Grid, Paper, Typography, Button, Modal, Box, CircularProgress, Alert } from '@mui/material';\nimport AddIcon from '@mui/icons-material/Add';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst modalStyle = {\n  position: 'absolute',\n  top: '50%',\n  left: '50%',\n  transform: 'translate(-50%, -50%)',\n  width: 400,\n  bgcolor: 'background.paper',\n  boxShadow: 24,\n  p: 4,\n  borderRadius: 2\n};\nconst columnsFromBackend = {\n  todo: {\n    name: 'To Do',\n    items: []\n  },\n  inprogress: {\n    name: 'In Progress',\n    items: []\n  },\n  done: {\n    name: 'Done',\n    items: []\n  }\n};\nfunction KanbanBoard() {\n  _s();\n  const [columns, setColumns] = useState(columnsFromBackend);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [openModal, setOpenModal] = useState(false);\n  const [taskToEdit, setTaskToEdit] = useState(null);\n  const {\n    user\n  } = useContext(AuthContext);\n  const fetchTasks = useCallback(async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      const res = await API.get('/tasks');\n      const newColumns = {\n        ...columnsFromBackend\n      };\n      res.data.forEach(task => {\n        const col = newColumns[task.status] || newColumns['todo'];\n        col.items.push(task);\n      });\n      setColumns(newColumns);\n    } catch (err) {\n      var _err$response, _err$response$data;\n      setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || \"Could not load tasks. Please try again later.\");\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n  useEffect(() => {\n    if (user) fetchTasks();\n  }, [user, fetchTasks]);\n  const handleOpenModal = (task = null) => {\n    setTaskToEdit(task);\n    setOpenModal(true);\n  };\n  const handleCloseModal = () => {\n    setOpenModal(false);\n    setTaskToEdit(null);\n  };\n  const handleSubmitTask = async taskData => {\n    setError(null);\n    try {\n      if (taskData._id) {\n        const updatedPayload = {\n          ...taskToEdit,\n          title: taskData.title,\n          description: taskData.description,\n          status: taskData.status\n        };\n        const {\n          _id,\n          ...data\n        } = updatedPayload;\n        await API.put(`/tasks/${_id}`, data);\n      } else {\n        if (!(user !== null && user !== void 0 && user._id)) {\n          setError(\"User not authenticated. Please log in.\");\n          return;\n        }\n        const newTask = {\n          title: taskData.title,\n          description: taskData.description,\n          status: taskData.status,\n          projectId: user._id\n        };\n        await API.post('/tasks', newTask);\n      }\n      fetchTasks();\n      handleCloseModal();\n    } catch (err) {\n      var _err$response2, _err$response2$data;\n      setError(((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.message) || \"Could not save task. Please try again.\");\n    }\n  };\n  const handleDeleteTask = async taskId => {\n    if (!window.confirm(\"Are you sure you want to delete this task?\")) return;\n    try {\n      await API.delete(`/tasks/${taskId}`);\n      fetchTasks();\n    } catch (err) {\n      var _err$response3, _err$response3$data;\n      setError(((_err$response3 = err.response) === null || _err$response3 === void 0 ? void 0 : (_err$response3$data = _err$response3.data) === null || _err$response3$data === void 0 ? void 0 : _err$response3$data.message) || \"Could not delete task.\");\n    }\n  };\n  const onDragEnd = async result => {\n    const {\n      source,\n      destination,\n      draggableId\n    } = result;\n    if (!destination || source.droppableId === destination.droppableId && source.index === destination.index) return;\n    const taskToMove = columns[source.droppableId].items.find(task => task._id === draggableId);\n    if (!taskToMove) return;\n    const sourceItems = [...columns[source.droppableId].items];\n    const destItems = source.droppableId === destination.droppableId ? sourceItems : [...columns[destination.droppableId].items];\n    const [removed] = sourceItems.splice(source.index, 1);\n    destItems.splice(destination.index, 0, removed);\n    setColumns({\n      ...columns,\n      [source.droppableId]: {\n        ...columns[source.droppableId],\n        items: sourceItems\n      },\n      [destination.droppableId]: {\n        ...columns[destination.droppableId],\n        items: destItems\n      }\n    });\n    try {\n      await API.put(`/tasks/${draggableId}`, {\n        ...taskToMove,\n        status: destination.droppableId\n      });\n    } catch (err) {\n      var _err$response4, _err$response4$data;\n      setError(((_err$response4 = err.response) === null || _err$response4 === void 0 ? void 0 : (_err$response4$data = _err$response4.data) === null || _err$response4$data === void 0 ? void 0 : _err$response4$data.message) || \"Failed to update task. Reverting.\");\n      fetchTasks(); // Optionally rollback on failure\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      sx: {\n        py: 4,\n        textAlign: 'center'\n      },\n      children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Container, {\n    sx: {\n      py: 4\n    },\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        mb: 3\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h4\",\n        children: \"Kanban Board\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        startIcon: /*#__PURE__*/_jsxDEV(AddIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 48\n        }, this),\n        onClick: () => handleOpenModal(),\n        children: \"Add Task\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n      severity: \"error\",\n      sx: {\n        mb: 2\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(DragDropContext, {\n      onDragEnd: onDragEnd,\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 3,\n        children: Object.entries(columns).map(([columnId, column]) => /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          md: 4,\n          children: /*#__PURE__*/_jsxDEV(Paper, {\n            elevation: 2,\n            sx: {\n              p: 2,\n              bgcolor: '#f8f9fa',\n              minHeight: '70vh'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              align: \"center\",\n              gutterBottom: true,\n              children: [column.name, \" (\", column.items.length, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Droppable, {\n              droppableId: columnId,\n              children: (provided, snapshot) => /*#__PURE__*/_jsxDEV(Box, {\n                ref: provided.innerRef,\n                ...provided.droppableProps,\n                sx: {\n                  backgroundColor: snapshot.isDraggingOver ? '#dfefff' : 'transparent',\n                  p: 1,\n                  minHeight: '60vh',\n                  borderRadius: 1\n                },\n                children: [column.items.map((task, index) => /*#__PURE__*/_jsxDEV(Draggable, {\n                  draggableId: task._id,\n                  index: index,\n                  children: provided => /*#__PURE__*/_jsxDEV(Box, {\n                    ref: provided.innerRef,\n                    ...provided.draggableProps,\n                    ...provided.dragHandleProps,\n                    sx: {\n                      mb: 2,\n                      ...provided.draggableProps.style\n                    },\n                    children: /*#__PURE__*/_jsxDEV(TaskCard, {\n                      task: task,\n                      onEdit: () => handleOpenModal(task),\n                      onDelete: handleDeleteTask\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 190,\n                      columnNumber: 31\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 184,\n                    columnNumber: 29\n                  }, this)\n                }, task._id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 182,\n                  columnNumber: 25\n                }, this)), provided.placeholder]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 171,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 15\n          }, this)\n        }, columnId, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      open: openModal,\n      onClose: handleCloseModal,\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        sx: modalStyle,\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          gutterBottom: true,\n          children: taskToEdit ? 'Edit Task' : 'Add New Task'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TaskForm, {\n          onSubmit: handleSubmitTask,\n          taskToEdit: taskToEdit,\n          onCancel: handleCloseModal\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 151,\n    columnNumber: 5\n  }, this);\n}\n_s(KanbanBoard, \"Xdg+VKd+VKQAcF5UHsKo7JSmQhg=\");\n_c = KanbanBoard;\nexport default KanbanBoard;\nvar _c;\n$RefreshReg$(_c, \"KanbanBoard\");","map":{"version":3,"names":["React","useEffect","useState","useContext","useCallback","API","AuthContext","TaskCard","TaskForm","DragDropContext","Droppable","Draggable","Container","Grid","Paper","Typography","Button","Modal","Box","CircularProgress","Alert","AddIcon","jsxDEV","_jsxDEV","modalStyle","position","top","left","transform","width","bgcolor","boxShadow","p","borderRadius","columnsFromBackend","todo","name","items","inprogress","done","KanbanBoard","_s","columns","setColumns","loading","setLoading","error","setError","openModal","setOpenModal","taskToEdit","setTaskToEdit","user","fetchTasks","res","get","newColumns","data","forEach","task","col","status","push","err","_err$response","_err$response$data","response","message","handleOpenModal","handleCloseModal","handleSubmitTask","taskData","_id","updatedPayload","title","description","put","newTask","projectId","post","_err$response2","_err$response2$data","handleDeleteTask","taskId","window","confirm","delete","_err$response3","_err$response3$data","onDragEnd","result","source","destination","draggableId","droppableId","index","taskToMove","find","sourceItems","destItems","removed","splice","_err$response4","_err$response4$data","sx","py","textAlign","children","fileName","_jsxFileName","lineNumber","columnNumber","display","justifyContent","mb","variant","startIcon","onClick","severity","container","spacing","Object","entries","map","columnId","column","item","xs","md","elevation","minHeight","align","gutterBottom","length","provided","snapshot","ref","innerRef","droppableProps","backgroundColor","isDraggingOver","draggableProps","dragHandleProps","style","onEdit","onDelete","placeholder","open","onClose","onSubmit","onCancel","_c","$RefreshReg$"],"sources":["D:/TaskManagerPro/frontend/src/components/KanbanBoard.js"],"sourcesContent":["import React, { useEffect, useState, useContext, useCallback } from 'react';\r\nimport API from '../api';\r\nimport { AuthContext } from '../context/AuthContext';\r\nimport TaskCard from './TaskCard';\r\nimport TaskForm from './TaskForm';\r\nimport { DragDropContext, Droppable, Draggable } from '@hello-pangea/dnd';\r\nimport {\r\n  Container, Grid, Paper, Typography, Button, Modal,\r\n  Box, CircularProgress, Alert\r\n} from '@mui/material';\r\nimport AddIcon from '@mui/icons-material/Add';\r\n\r\nconst modalStyle = {\r\n  position: 'absolute',\r\n  top: '50%',\r\n  left: '50%',\r\n  transform: 'translate(-50%, -50%)',\r\n  width: 400,\r\n  bgcolor: 'background.paper',\r\n  boxShadow: 24,\r\n  p: 4,\r\n  borderRadius: 2,\r\n};\r\n\r\nconst columnsFromBackend = {\r\n  todo: { name: 'To Do', items: [] },\r\n  inprogress: { name: 'In Progress', items: [] },\r\n  done: { name: 'Done', items: [] },\r\n};\r\n\r\nfunction KanbanBoard() {\r\n  const [columns, setColumns] = useState(columnsFromBackend);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [openModal, setOpenModal] = useState(false);\r\n  const [taskToEdit, setTaskToEdit] = useState(null);\r\n  const { user } = useContext(AuthContext);\r\n\r\n  const fetchTasks = useCallback(async () => {\r\n    setLoading(true);\r\n    setError(null);\r\n    try {\r\n      const res = await API.get('/tasks');\r\n      const newColumns = { ...columnsFromBackend };\r\n      res.data.forEach(task => {\r\n        const col = newColumns[task.status] || newColumns['todo'];\r\n        col.items.push(task);\r\n      });\r\n      setColumns(newColumns);\r\n    } catch (err) {\r\n      setError(err.response?.data?.message || \"Could not load tasks. Please try again later.\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (user) fetchTasks();\r\n  }, [user, fetchTasks]);\r\n\r\n  const handleOpenModal = (task = null) => {\r\n    setTaskToEdit(task);\r\n    setOpenModal(true);\r\n  };\r\n\r\n  const handleCloseModal = () => {\r\n    setOpenModal(false);\r\n    setTaskToEdit(null);\r\n  };\r\n\r\n  const handleSubmitTask = async (taskData) => {\r\n    setError(null);\r\n    try {\r\n      if (taskData._id) {\r\n        const updatedPayload = {\r\n          ...taskToEdit,\r\n          title: taskData.title,\r\n          description: taskData.description,\r\n          status: taskData.status,\r\n        };\r\n        const { _id, ...data } = updatedPayload;\r\n        await API.put(`/tasks/${_id}`, data);\r\n      } else {\r\n        if (!user?._id) {\r\n          setError(\"User not authenticated. Please log in.\");\r\n          return;\r\n        }\r\n        const newTask = {\r\n          title: taskData.title,\r\n          description: taskData.description,\r\n          status: taskData.status,\r\n          projectId: user._id,\r\n        };\r\n        await API.post('/tasks', newTask);\r\n      }\r\n      fetchTasks();\r\n      handleCloseModal();\r\n    } catch (err) {\r\n      setError(err.response?.data?.message || \"Could not save task. Please try again.\");\r\n    }\r\n  };\r\n\r\n  const handleDeleteTask = async (taskId) => {\r\n    if (!window.confirm(\"Are you sure you want to delete this task?\")) return;\r\n    try {\r\n      await API.delete(`/tasks/${taskId}`);\r\n      fetchTasks();\r\n    } catch (err) {\r\n      setError(err.response?.data?.message || \"Could not delete task.\");\r\n    }\r\n  };\r\n\r\n  const onDragEnd = async (result) => {\r\n    const { source, destination, draggableId } = result;\r\n    if (!destination || (source.droppableId === destination.droppableId && source.index === destination.index)) return;\r\n\r\n    const taskToMove = columns[source.droppableId].items.find(task => task._id === draggableId);\r\n    if (!taskToMove) return;\r\n\r\n    const sourceItems = [...columns[source.droppableId].items];\r\n    const destItems = source.droppableId === destination.droppableId\r\n      ? sourceItems\r\n      : [...columns[destination.droppableId].items];\r\n\r\n    const [removed] = sourceItems.splice(source.index, 1);\r\n    destItems.splice(destination.index, 0, removed);\r\n\r\n    setColumns({\r\n      ...columns,\r\n      [source.droppableId]: { ...columns[source.droppableId], items: sourceItems },\r\n      [destination.droppableId]: { ...columns[destination.droppableId], items: destItems },\r\n    });\r\n\r\n    try {\r\n      await API.put(`/tasks/${draggableId}`, { ...taskToMove, status: destination.droppableId });\r\n    } catch (err) {\r\n      setError(err.response?.data?.message || \"Failed to update task. Reverting.\");\r\n      fetchTasks(); // Optionally rollback on failure\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <Container sx={{ py: 4, textAlign: 'center' }}>\r\n        <CircularProgress />\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Container sx={{ py: 4 }}>\r\n      <Box sx={{ display: 'flex', justifyContent: 'space-between', mb: 3 }}>\r\n        <Typography variant=\"h4\">Kanban Board</Typography>\r\n        <Button variant=\"contained\" startIcon={<AddIcon />} onClick={() => handleOpenModal()}>\r\n          Add Task\r\n        </Button>\r\n      </Box>\r\n\r\n      {error && <Alert severity=\"error\" sx={{ mb: 2 }}>{error}</Alert>}\r\n\r\n      <DragDropContext onDragEnd={onDragEnd}>\r\n        <Grid container spacing={3}>\r\n          {Object.entries(columns).map(([columnId, column]) => (\r\n            <Grid item xs={12} md={4} key={columnId}>\r\n              <Paper elevation={2} sx={{ p: 2, bgcolor: '#f8f9fa', minHeight: '70vh' }}>\r\n                <Typography variant=\"h6\" align=\"center\" gutterBottom>\r\n                  {column.name} ({column.items.length})\r\n                </Typography>\r\n                <Droppable droppableId={columnId}>\r\n                  {(provided, snapshot) => (\r\n                    <Box\r\n                      ref={provided.innerRef}\r\n                      {...provided.droppableProps}\r\n                      sx={{\r\n                        backgroundColor: snapshot.isDraggingOver ? '#dfefff' : 'transparent',\r\n                        p: 1,\r\n                        minHeight: '60vh',\r\n                        borderRadius: 1,\r\n                      }}\r\n                    >\r\n                      {column.items.map((task, index) => (\r\n                        <Draggable key={task._id} draggableId={task._id} index={index}>\r\n                          {(provided) => (\r\n                            <Box\r\n                              ref={provided.innerRef}\r\n                              {...provided.draggableProps}\r\n                              {...provided.dragHandleProps}\r\n                              sx={{ mb: 2, ...provided.draggableProps.style }}\r\n                            >\r\n                              <TaskCard\r\n                                task={task}\r\n                                onEdit={() => handleOpenModal(task)}\r\n                                onDelete={handleDeleteTask}\r\n                              />\r\n                            </Box>\r\n                          )}\r\n                        </Draggable>\r\n                      ))}\r\n                      {provided.placeholder}\r\n                    </Box>\r\n                  )}\r\n                </Droppable>\r\n              </Paper>\r\n            </Grid>\r\n          ))}\r\n        </Grid>\r\n      </DragDropContext>\r\n\r\n      <Modal open={openModal} onClose={handleCloseModal}>\r\n        <Box sx={modalStyle}>\r\n          <Typography variant=\"h6\" gutterBottom>\r\n            {taskToEdit ? 'Edit Task' : 'Add New Task'}\r\n          </Typography>\r\n          <TaskForm\r\n            onSubmit={handleSubmitTask}\r\n            taskToEdit={taskToEdit}\r\n            onCancel={handleCloseModal}\r\n          />\r\n        </Box>\r\n      </Modal>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default KanbanBoard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}